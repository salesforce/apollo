databaseChangeLog:
-  preConditions:
   -  runningAs:
         username: apollo
-  changeSet:
      id: 1
      author: hhildebrand
      changes:
      -  sql:
            splitStatements: true
            sql: SET BINARY_COLLATION UNSIGNED
      -  createTable:
            tableName: dag
            columns:
            -  column:
                  name: key
                  type: BINARY(32)
                  autoIncrement: false
                  constraints:
                     primaryKey: true
            -  column:
                  name: data
                  type: BINARY
            -  column:
                  name: links
                  type: BINARY
      -  addUniqueConstraint:
            tableName: dag
            columnNames: key
            constraintName: dag_unique_key
            deferrable: false
            disabled: false
            initiallyDeferred: false
      -  createTable:
            tableName: unfinalized
            columns:
            -  column:
                  name: hash
                  type: BINARY(32)
                  autoIncrement: false
                  constraints:
                     primaryKey: true
            -  column:
                  name: data
                  type: BINARY
            -  column:
                  name: links
                  type: BINARY
      -  addUniqueConstraint:
            tableName: unfinalized
            columnNames: hash
            constraintName: unfinalized_unique_hash
            deferrable: false
            disabled: false
            initiallyDeferred: false
      -  createTable:
            tableName: processors
            columns:
            -  column:
                  name: hash
                  type: BINARY(32)
                  autoIncrement: false
                  constraints:
                     primaryKey: true
            -  column:
                  name: processorClass
                  type: VARCHAR
      -  addForeignKeyConstraint:
            baseColumnNames: hash
            baseTableName: processors
            constraintName: processors_dag_ref
            deferrable: false
            initiallyDeferred: false
            referencedColumnNames: key
            referencedTableName: dag
      -  addUniqueConstraint:
            tableName: processors
            columnNames: hash
            constraintName: processors_hash_unique